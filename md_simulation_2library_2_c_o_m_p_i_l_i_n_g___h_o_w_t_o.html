<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en-US">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=11"/>
<meta name="generator" content="Doxygen 1.11.0"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>UBC Solar Simulation: Compiling binaries for your OS</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<script type="text/javascript" src="clipboard.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="cookie.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr id="projectrow">
  <td id="projectalign">
   <div id="projectname">UBC Solar Simulation
   </div>
   <div id="projectbrief">UBC Solar&#39;s simulation environment</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.11.0 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
var searchBox = new SearchBox("searchBox", "search/",'.html');
/* @license-end */
</script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() { codefold.init(0); });
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() {
  initMenu('',true,false,'search.php','Search',false);
  $(function() { init_search(); });
});
/* @license-end */
</script>
<div id="main-nav"></div>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function(){ initResizable(false); });
/* @license-end */
</script>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<div id="MSearchResults">
<div class="SRPage">
<div id="SRIndex">
<div id="SRResults"></div>
<div class="SRStatus" id="Loading">Loading...</div>
<div class="SRStatus" id="Searching">Searching...</div>
<div class="SRStatus" id="NoMatches">No Matches</div>
</div>
</div>
</div>
</div>

</div><!-- top -->
<div id="doc-content">
<div><div class="header">
  <div class="headertitle"><div class="title">Compiling binaries for your OS</div></div>
</div><!--header-->
<div class="contents">
<div class="textblock"><p><a class="anchor" id="autotoc_md0"></a></p>
<h1><a class="anchor" id="autotoc_md1"></a>
Guidelines</h1>
<p>To achieve a significant performance improvement, Simulation uses multiple Go implementations of Pythonic functions that cannot be sped up with NumPy. However, Go shared libraries are platform and architecture dependent so you may need to build the shared libraries for your platform if they do not already exist. Begin by building <code>main.so</code> from <code>main.go</code> in the <code>go_files</code> folder. Next, build the <code>perlin_noise.so</code> module from the four <code>.go</code> files in <code>go_files/perlin_noise</code>.</p>
<div class="fragment"><div class="line">cd go_files</div>
<div class="line">go build -o main.so -buildmode=c-shared main.go</div>
<div class="line">cd perlin_noise</div>
<div class="line">go build -o perlin_noise.so -buildmode=c-shared main.go vector.go perlinNoise.go simplexNoise.go</div>
</div><!-- fragment --><p> You may need to specify that CGO should be enabled. You may need to specify your operating system and CPU architecture. You'll need to add these flags in the command before <code>go build -o...</code>For macOS with Apple Silicon chip, </p><div class="fragment"><div class="line">GOARCH=arm64 GOOS=darwin CGO_ENABLED=1</div>
</div><!-- fragment --><p>See <a href="https://www.digitalocean.com/community/tutorials/building-go-applications-for-different-operating-systems-and-architectures">https://www.digitalocean.com/community/tutorials/building-go-applications-for-different-operating-systems-and-architectures</a> for a list of keypairs for different operating systems and architectures and how to find yours.</p>
<p>Once <code>.so</code> and <code>.h</code> files have been compiled, they should be placed into a new folder inside of <code>library/binaries</code> so that Simulation can find them. Name the folder according to your OS and architecture.</p>
<h1><a class="anchor" id="autotoc_md2"></a>
Example</h1>
<p>Compiling on Apple Silicon Mac requires the following commands to compile <code>go_files/main.go</code>:\ <code>GOOS=darwin GOARCH=amd64 CGO_ENABLED=1 go build -o main.so -buildmode=c-shared main.go</code> </p>
</div></div><!-- contents -->
</div><!-- PageDoc -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated by&#160;<a href="https://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.11.0
</small></address>
</div><!-- doc-content -->
</body>
</html>
