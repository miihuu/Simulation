<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en-US">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=11"/>
<meta name="generator" content="Doxygen 1.11.0"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>My Project: Simulation.simulation.model.environment.weather_forecasts.SolcastForecasts.SolcastForecasts Class Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<script type="text/javascript" src="clipboard.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="cookie.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr id="projectrow">
  <td id="projectalign">
   <div id="projectname">My Project
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.11.0 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
var searchBox = new SearchBox("searchBox", "search/",'.html');
/* @license-end */
</script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() { codefold.init(0); });
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() {
  initMenu('',true,false,'search.php','Search',false);
  $(function() { init_search(); });
});
/* @license-end */
</script>
<div id="main-nav"></div>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function(){ initResizable(false); });
/* @license-end */
</script>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<div id="MSearchResults">
<div class="SRPage">
<div id="SRIndex">
<div id="SRResults"></div>
<div class="SRStatus" id="Loading">Loading...</div>
<div class="SRStatus" id="Searching">Searching...</div>
<div class="SRStatus" id="NoMatches">No Matches</div>
</div>
</div>
</div>
</div>

<div id="nav-path" class="navpath">
  <ul>
<li class="navelem"><b>Simulation</b></li><li class="navelem"><b>simulation</b></li><li class="navelem"><b>model</b></li><li class="navelem"><b>environment</b></li><li class="navelem"><b>weather_forecasts</b></li><li class="navelem"><a class="el" href="namespace_simulation_1_1simulation_1_1model_1_1environment_1_1weather__forecasts_1_1_solcast_forecasts.html">SolcastForecasts</a></li><li class="navelem"><a class="el" href="class_simulation_1_1simulation_1_1model_1_1environment_1_1weather__forecasts_1_1_solcast_forecasts_1_1_solcast_forecasts.html">SolcastForecasts</a></li>  </ul>
</div>
</div><!-- top -->
<div id="doc-content">
<div class="header">
  <div class="summary">
<a href="#pub-methods">Public Member Functions</a> &#124;
<a href="#pub-attribs">Public Attributes</a> &#124;
<a href="#pro-methods">Protected Member Functions</a> &#124;
<a href="#pro-static-methods">Static Protected Member Functions</a> &#124;
<a href="class_simulation_1_1simulation_1_1model_1_1environment_1_1weather__forecasts_1_1_solcast_forecas3450fdaff1e504d9f79646d57ade3643.html">List of all members</a>  </div>
  <div class="headertitle"><div class="title">Simulation.simulation.model.environment.weather_forecasts.SolcastForecasts.SolcastForecasts Class Reference</div></div>
</div><!--header-->
<div class="contents">
<div class="dynheader">
Inheritance diagram for Simulation.simulation.model.environment.weather_forecasts.SolcastForecasts.SolcastForecasts:</div>
<div class="dyncontent">
 <div class="center">
  <img src="class_simulation_1_1simulation_1_1model_1_1environment_1_1weather__forecasts_1_1_solcast_forecasts_1_1_solcast_forecasts.png" usemap="#Simulation.simulation.model.environment.weather_5Fforecasts.SolcastForecasts.SolcastForecasts_map" alt=""/>
  <map id="Simulation.simulation.model.environment.weather_5Fforecasts.SolcastForecasts.SolcastForecasts_map" name="Simulation.simulation.model.environment.weather_5Fforecasts.SolcastForecasts.SolcastForecasts_map">
<area href="class_simulation_1_1simulation_1_1model_1_1environment_1_1weather__forecasts_1_1base__weather__f318d465f25e72c99dcaa1a20ea9d3eb1.html" alt="Simulation.simulation.model.environment.weather_forecasts.base_weather_forecasts.BaseWeatherForecasts" shape="rect" coords="0,56,623,80"/>
  </map>
</div></div>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="pub-methods" name="pub-methods"></a>
Public Member Functions</h2></td></tr>
<tr class="memitem:a73cae68b224d204f7cfa94b163cd6196" id="r_a73cae68b224d204f7cfa94b163cd6196"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a73cae68b224d204f7cfa94b163cd6196">__init__</a> (self, coords, <a class="el" href="class_simulation_1_1simulation_1_1common_1_1race_1_1_race.html">Race</a> race, origin_coord=None, hash_key=None)</td></tr>
<tr class="separator:a73cae68b224d204f7cfa94b163cd6196"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a01bf2351737da4010e6e00f2e86fa463" id="r_a01bf2351737da4010e6e00f2e86fa463"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a01bf2351737da4010e6e00f2e86fa463">calculate_closest_weather_indices</a> (self, cumulative_distances)</td></tr>
<tr class="separator:a01bf2351737da4010e6e00f2e86fa463"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad27dc52373e8e49e76fa94baca1083eb" id="r_ad27dc52373e8e49e76fa94baca1083eb"><td class="memItemLeft" align="right" valign="top"><a class="el" href="class_simulation_1_1simulation_1_1model_1_1environment_1_1solcast__environment_1_1_solcast_environment.html">SolcastEnvironment</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#ad27dc52373e8e49e76fa94baca1083eb">get_weather_forecast_in_time</a> (self, indices, unix_timestamps, start_time, tick)</td></tr>
<tr class="separator:ad27dc52373e8e49e76fa94baca1083eb"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="pub-attribs" name="pub-attribs"></a>
Public Attributes</h2></td></tr>
<tr class="memitem:a44857781035194fede1e9f1de0f6fd3e" id="r_a44857781035194fede1e9f1de0f6fd3e"><td class="memItemLeft" align="right" valign="top"><a id="a44857781035194fede1e9f1de0f6fd3e" name="a44857781035194fede1e9f1de0f6fd3e"></a>
&#160;</td><td class="memItemRight" valign="bottom"><b>race</b></td></tr>
<tr class="separator:a44857781035194fede1e9f1de0f6fd3e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:acf63ef6f4d12e6910b93398277c637b0" id="r_acf63ef6f4d12e6910b93398277c637b0"><td class="memItemLeft" align="right" valign="top"><a id="acf63ef6f4d12e6910b93398277c637b0" name="acf63ef6f4d12e6910b93398277c637b0"></a>
&#160;</td><td class="memItemRight" valign="bottom"><b>last_updated_time</b></td></tr>
<tr class="separator:acf63ef6f4d12e6910b93398277c637b0"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="inherit_header pub_attribs_class_simulation_1_1simulation_1_1model_1_1environment_1_1weather__forecasts_1_1base__weather__f318d465f25e72c99dcaa1a20ea9d3eb1"><td colspan="2" onclick="javascript:dynsection.toggleInherit('pub_attribs_class_simulation_1_1simulation_1_1model_1_1environment_1_1weather__forecasts_1_1base__weather__f318d465f25e72c99dcaa1a20ea9d3eb1')"><img src="closed.png" alt="-"/>&#160;Public Attributes inherited from <a class="el" href="class_simulation_1_1simulation_1_1model_1_1environment_1_1weather__forecasts_1_1base__weather__f318d465f25e72c99dcaa1a20ea9d3eb1.html">Simulation.simulation.model.environment.weather_forecasts.base_weather_forecasts.BaseWeatherForecasts</a></td></tr>
<tr class="memitem:a2288744d7b048479f3e7623d38c9d78b inherit pub_attribs_class_simulation_1_1simulation_1_1model_1_1environment_1_1weather__forecasts_1_1base__weather__f318d465f25e72c99dcaa1a20ea9d3eb1" id="r_a2288744d7b048479f3e7623d38c9d78b"><td class="memItemLeft" align="right" valign="top">
&#160;</td><td class="memItemRight" valign="bottom"><b>race</b></td></tr>
<tr class="separator:a2288744d7b048479f3e7623d38c9d78b inherit pub_attribs_class_simulation_1_1simulation_1_1model_1_1environment_1_1weather__forecasts_1_1base__weather__f318d465f25e72c99dcaa1a20ea9d3eb1"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a0ad440bccef1d746f91687fdd0d3ee58 inherit pub_attribs_class_simulation_1_1simulation_1_1model_1_1environment_1_1weather__forecasts_1_1base__weather__f318d465f25e72c99dcaa1a20ea9d3eb1" id="r_a0ad440bccef1d746f91687fdd0d3ee58"><td class="memItemLeft" align="right" valign="top">
&#160;</td><td class="memItemRight" valign="bottom"><b>origin_coord</b></td></tr>
<tr class="separator:a0ad440bccef1d746f91687fdd0d3ee58 inherit pub_attribs_class_simulation_1_1simulation_1_1model_1_1environment_1_1weather__forecasts_1_1base__weather__f318d465f25e72c99dcaa1a20ea9d3eb1"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac768cc34b3a8d9e91ecc0fb6d7e1f0b8 inherit pub_attribs_class_simulation_1_1simulation_1_1model_1_1environment_1_1weather__forecasts_1_1base__weather__f318d465f25e72c99dcaa1a20ea9d3eb1" id="r_ac768cc34b3a8d9e91ecc0fb6d7e1f0b8"><td class="memItemLeft" align="right" valign="top">
&#160;</td><td class="memItemRight" valign="bottom"><b>dest_coord</b></td></tr>
<tr class="separator:ac768cc34b3a8d9e91ecc0fb6d7e1f0b8 inherit pub_attribs_class_simulation_1_1simulation_1_1model_1_1environment_1_1weather__forecasts_1_1base__weather__f318d465f25e72c99dcaa1a20ea9d3eb1"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a2ffddb3ea72a7f2572e290794819bdf1 inherit pub_attribs_class_simulation_1_1simulation_1_1model_1_1environment_1_1weather__forecasts_1_1base__weather__f318d465f25e72c99dcaa1a20ea9d3eb1" id="r_a2ffddb3ea72a7f2572e290794819bdf1"><td class="memItemLeft" align="right" valign="top">
&#160;</td><td class="memItemRight" valign="bottom"><b>coords</b></td></tr>
<tr class="separator:a2ffddb3ea72a7f2572e290794819bdf1 inherit pub_attribs_class_simulation_1_1simulation_1_1model_1_1environment_1_1weather__forecasts_1_1base__weather__f318d465f25e72c99dcaa1a20ea9d3eb1"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a3bb8b5bdaa66deba95b2a15f5cfae6ae inherit pub_attribs_class_simulation_1_1simulation_1_1model_1_1environment_1_1weather__forecasts_1_1base__weather__f318d465f25e72c99dcaa1a20ea9d3eb1" id="r_a3bb8b5bdaa66deba95b2a15f5cfae6ae"><td class="memItemLeft" align="right" valign="top">
&#160;</td><td class="memItemRight" valign="bottom"><b>weather_forecast</b></td></tr>
<tr class="separator:a3bb8b5bdaa66deba95b2a15f5cfae6ae inherit pub_attribs_class_simulation_1_1simulation_1_1model_1_1environment_1_1weather__forecasts_1_1base__weather__f318d465f25e72c99dcaa1a20ea9d3eb1"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="pro-methods" name="pro-methods"></a>
Protected Member Functions</h2></td></tr>
<tr class="memitem:a1699588a934ef4b9146eca784361cabf" id="r_a1699588a934ef4b9146eca784361cabf"><td class="memItemLeft" align="right" valign="top"><a id="a1699588a934ef4b9146eca784361cabf" name="a1699588a934ef4b9146eca784361cabf"></a>
&#160;</td><td class="memItemRight" valign="bottom"><b>_python_get_weather_in_time</b> (self, unix_timestamps, indices)</td></tr>
<tr class="separator:a1699588a934ef4b9146eca784361cabf"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="pro-static-methods" name="pro-static-methods"></a>
Static Protected Member Functions</h2></td></tr>
<tr class="memitem:ad2046e44c7137c63bb0b6c2d9f1efc02" id="r_ad2046e44c7137c63bb0b6c2d9f1efc02"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#ad2046e44c7137c63bb0b6c2d9f1efc02">_python_calculate_closest_weather_indices</a> (cumulative_distances, average_distances)</td></tr>
<tr class="separator:ad2046e44c7137c63bb0b6c2d9f1efc02"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aaab84de66a5dbc3c291dfccdf9c19337" id="r_aaab84de66a5dbc3c291dfccdf9c19337"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#aaab84de66a5dbc3c291dfccdf9c19337">_python_calculate_closest_timestamp_indices</a> (unix_timestamps, dt_local_array)</td></tr>
<tr class="separator:aaab84de66a5dbc3c291dfccdf9c19337"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a556f0b52b1aca4f690e5fd48978751f4" id="r_a556f0b52b1aca4f690e5fd48978751f4"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a556f0b52b1aca4f690e5fd48978751f4">_get_array_directional_wind_speed</a> (vehicle_bearings, wind_speeds, wind_directions)</td></tr>
<tr class="separator:a556f0b52b1aca4f690e5fd48978751f4"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><pre class="fragment">Class that gathers weather data and performs calculations on it to allow the implementation of weather phenomenon
such as changes in wind speeds and cloud cover in the simulation.

Attributes:
    coords (NumPy array [N][lat, long]): a list of N coordinates for which to gather weather forecasts for
    origin_coord (NumPy array [lat, long]): the starting coordinate
    dest_coord (NumPy array [lat, long]): the ending coordinate
    last_updated_time (int): value that tells us the starting time after which we have weather data available

    weather_forecast (NumPy array [N][T][6]): array that stores the complete weather forecast data. N represents the
        number of coordinates, T represents time length with temporal granularity defined in settings_*.json.
        The last 6 represents the number of weather forecast fields available. These are: time_dt (UTC UNIX time),
        latitude, longitude, wind_speed (m/s), wind_direction (meteorological convention), ghi (W/m^2)
</pre> </div><h2 class="groupheader">Constructor &amp; Destructor Documentation</h2>
<a id="a73cae68b224d204f7cfa94b163cd6196" name="a73cae68b224d204f7cfa94b163cd6196"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a73cae68b224d204f7cfa94b163cd6196">&#9670;&#160;</a></span>__init__()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">Simulation.simulation.model.environment.weather_forecasts.SolcastForecasts.SolcastForecasts.__init__ </td>
          <td>(</td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>self</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>coords</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="class_simulation_1_1simulation_1_1common_1_1race_1_1_race.html">Race</a></td>          <td class="paramname"><span class="paramname"><em>race</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>origin_coord</em></span><span class="paramdefsep"> = </span><span class="paramdefval">None</span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>hash_key</em></span><span class="paramdefsep"> = </span><span class="paramdefval">None</span>&#160;)</td>
        </tr>
      </table>
</div><div class="memdoc">
<pre class="fragment">Initializes the instance of a WeatherForecast class

:param origin_coord: A NumPy array of a single [latitude, longitude]
:param str provider: string indicating weather provider
:param coords: A NumPy array of [latitude, longitude]
:param hash_key: key used to identify cached data as valid for a Simulation model</pre> 
<p>Reimplemented from <a class="el" href="class_simulation_1_1simulation_1_1model_1_1environment_1_1weather__forecasts_1_1base__weather__f318d465f25e72c99dcaa1a20ea9d3eb1.html">Simulation.simulation.model.environment.weather_forecasts.base_weather_forecasts.BaseWeatherForecasts</a>.</p>

</div>
</div>
<h2 class="groupheader">Member Function Documentation</h2>
<a id="a556f0b52b1aca4f690e5fd48978751f4" name="a556f0b52b1aca4f690e5fd48978751f4"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a556f0b52b1aca4f690e5fd48978751f4">&#9670;&#160;</a></span>_get_array_directional_wind_speed()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">Simulation.simulation.model.environment.weather_forecasts.SolcastForecasts.SolcastForecasts._get_array_directional_wind_speed </td>
          <td>(</td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>vehicle_bearings</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>wind_speeds</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>wind_directions</em></span>&#160;)</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<pre class="fragment">Returns the array of wind speed in m/s, in the direction opposite to the 
    bearing of the vehicle


:param np.ndarray vehicle_bearings: (float[N]) The azimuth angles that the vehicle in, in degrees
:param np.ndarray wind_speeds: (float[N]) The absolute speeds in m/s
:param np.ndarray wind_directions: (float[N]) The wind direction in the meteorlogical convention. To convert from meteorlogical convention to azimuth angle, use (x + 180) % 360
:returns: The wind speeds in the direction opposite to the bearing of the vehicle
:rtype: np.ndarray</pre> 
</div>
</div>
<a id="aaab84de66a5dbc3c291dfccdf9c19337" name="aaab84de66a5dbc3c291dfccdf9c19337"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aaab84de66a5dbc3c291dfccdf9c19337">&#9670;&#160;</a></span>_python_calculate_closest_timestamp_indices()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">Simulation.simulation.model.environment.weather_forecasts.SolcastForecasts.SolcastForecasts._python_calculate_closest_timestamp_indices </td>
          <td>(</td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>unix_timestamps</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>dt_local_array</em></span>&#160;)</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<pre class="fragment">Python implementation to find the indices of the closest timestamps in dt_local_array and package them into a NumPy Array

:param np.ndarray unix_timestamps: NumPy Array (float[N]) of unix timestamps of the vehicle's journey
:param np.ndarray dt_local_array: NumPy Array (float[N]) of local times, represented as unix timestamps
:returns: NumPy Array of (int[N]) containing closest timestamp indices used by get_weather_forecast_in_time
:rtype: np.ndarray</pre> 
</div>
</div>
<a id="ad2046e44c7137c63bb0b6c2d9f1efc02" name="ad2046e44c7137c63bb0b6c2d9f1efc02"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ad2046e44c7137c63bb0b6c2d9f1efc02">&#9670;&#160;</a></span>_python_calculate_closest_weather_indices()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">Simulation.simulation.model.environment.weather_forecasts.SolcastForecasts.SolcastForecasts._python_calculate_closest_weather_indices </td>
          <td>(</td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>cumulative_distances</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>average_distances</em></span>&#160;)</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<pre class="fragment">Python implementation of calculate_closest_weather_indices. See parent function for documentation details.</pre> 
</div>
</div>
<a id="a01bf2351737da4010e6e00f2e86fa463" name="a01bf2351737da4010e6e00f2e86fa463"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a01bf2351737da4010e6e00f2e86fa463">&#9670;&#160;</a></span>calculate_closest_weather_indices()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">Simulation.simulation.model.environment.weather_forecasts.SolcastForecasts.SolcastForecasts.calculate_closest_weather_indices </td>
          <td>(</td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>self</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>cumulative_distances</em></span>&#160;)</td>
        </tr>
      </table>
</div><div class="memdoc">
<pre class="fragment">:param np.ndarray cumulative_distances: NumPy Array representing cumulative distances theoretically achievable for a given input speed array
:returns: array of the closest weather indices.
:rtype: np.ndarray</pre><pre class="fragment">IMPORTANT: we only have weather coordinates for a discrete set of coordinates. However, the car could be at any
coordinate in between these available weather coordinates. We need to figure out what coordinate the car is at
at each timestep and then we can figure out the full weather forecast at each timestep.

For example, imagine the car is at some coordinate (10, 20). Further imagine that we have a week's worth of
weather forecasts for the following five coordinates: (5, 4), (11, 19), (20, 30), (40, 30), (0, 60). Which
set of weather forecasts should we choose? Well, we should choose the (11, 19) one since our coordinate
(10, 20) is closest to (11, 19). This is what the following code is accomplishing. However, it is not dealing
with the coordinates directly but rather is dealing with the distances between the coordinates. 

Furthermore, once we have chosen a week's worth of weather forecasts for a specific coordinate, we must isolate
a single weather forecast depending on what time the car is at the coordinate (10, 20). That is the job of the
`get_weather_forecast_in_time()` method.</pre> 
<p>Reimplemented from <a class="el" href="class_simulation_1_1simulation_1_1model_1_1environment_1_1weather__forecasts_1_1base__weather__f318d465f25e72c99dcaa1a20ea9d3eb1.html">Simulation.simulation.model.environment.weather_forecasts.base_weather_forecasts.BaseWeatherForecasts</a>.</p>

</div>
</div>
<a id="ad27dc52373e8e49e76fa94baca1083eb" name="ad27dc52373e8e49e76fa94baca1083eb"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ad27dc52373e8e49e76fa94baca1083eb">&#9670;&#160;</a></span>get_weather_forecast_in_time()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"> <a class="el" href="class_simulation_1_1simulation_1_1model_1_1environment_1_1solcast__environment_1_1_solcast_environment.html">SolcastEnvironment</a> Simulation.simulation.model.environment.weather_forecasts.SolcastForecasts.SolcastForecasts.get_weather_forecast_in_time </td>
          <td>(</td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>self</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>indices</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>unix_timestamps</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>start_time</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>tick</em></span>&#160;)</td>
        </tr>
      </table>
</div><div class="memdoc">
<pre class="fragment">Takes in an array of indices of the weather_forecast array, and an array of timestamps. Uses those to figure out
what the weather forecast is at each time step being simulated.

we only have weather at discrete timestamps. The car however can be in any timestamp in
between. Therefore, we must be able to choose the weather timestamp that is closest to the one that the car is in
so that we can more accurately determine the weather experienced by the car at that timestamp.

For example, imagine the car is at some coordinate (x,y) at timestamp 100. Imagine we know the weather forecast
at (x,y) for five different timestamps: 0, 30, 60, 90, and 120. Which weather forecast should we
choose? Clearly, we should choose the weather forecast at 90 since it is the closest to 100. That's what the
below code is accomplishing.

:param np.ndarray indices: (int[N]) coordinate indices of self.weather_forecast
:param np.ndarray unix_timestamps: (int[N]) unix timestamps of the vehicle's journey
:param int start_time: time since the start of the race that simulation is beginning
:param int tick: length of a tick in seconds
:returns: a SolcastEnvironment object with time_dt, latitude, longitude, wind_speed, wind_direction, and ghi.
:rtype: SolcastEnvironment
</pre> 
<p>Reimplemented from <a class="el" href="class_simulation_1_1simulation_1_1model_1_1environment_1_1weather__forecasts_1_1base__weather__f318d465f25e72c99dcaa1a20ea9d3eb1.html">Simulation.simulation.model.environment.weather_forecasts.base_weather_forecasts.BaseWeatherForecasts</a>.</p>

</div>
</div>
<hr/>The documentation for this class was generated from the following file:<ul>
<li>simulation/model/environment/weather_forecasts/<b>SolcastForecasts.py</b></li>
</ul>
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated by&#160;<a href="https://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.11.0
</small></address>
</div><!-- doc-content -->
</body>
</html>
